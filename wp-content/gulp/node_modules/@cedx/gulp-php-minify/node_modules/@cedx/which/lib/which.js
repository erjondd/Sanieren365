"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const finder_1 = require("./finder");
async function which(command, options = {}) {
    const { all = false, extensions = '', onError = null, path = '', pathSeparator = '' } = options;
    const finder = new finder_1.Finder({ extensions, path, pathSeparator });
    const list = [];
    for await (const executable of finder.find(command)) {
        if (!all)
            return executable;
        list.push(executable);
    }
    if (!list.length) {
        if (onError)
            return onError(command);
        throw new finder_1.FinderError(command, finder, `Command "${command}" not found`);
    }
    return [...new Set(list)];
}
exports.which = which;
//# sourceMappingURL=which.js.map